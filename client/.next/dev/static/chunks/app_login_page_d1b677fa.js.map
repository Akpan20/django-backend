{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/akan/Hotel/client/app/login/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Link from \"next/link\";\nimport { loginUser, clearError } from \"@/store/authSlice\";\n\nexport default function GuestLogin() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const router = useRouter();\n  const dispatch = useDispatch();\n  \n  const { loading, error, isAuthenticated } = useSelector((state) => state.auth);\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.push(\"/rooms\");\n    }\n  }, [isAuthenticated, router]);\n\n  // Clear errors when component unmounts\n  useEffect(() => {\n    return () => {\n      dispatch(clearError());\n    };\n  }, [dispatch]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Use Redux thunk for login\n    const loginData = { \n      username: email, // Django expects 'username' field, not 'email'\n      password \n    };\n    \n    try {\n      await dispatch(loginUser(loginData)).unwrap();\n      router.push(\"/rooms\");\n    } catch (err) {\n      // Error is already handled by Redux\n      console.error(\"Login failed:\", err);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4\">\n      <div className=\"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8\">\n        {/* Logo/Header */}\n        <div className=\"text-center mb-10\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl mb-4\">\n            <span className=\"text-2xl font-bold text-white\">ðŸ‘¤</span>\n          </div>\n          <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n            Welcome Back\n          </h2>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Sign in to your account\n          </p>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-red-700 dark:text-red-300\">{error}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Login Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Email or Username\n            </label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M14.243 5.757a6 6 0 10-.986 9.284 1 1 0 111.087 1.678A8 8 0 1118 10a3 3 0 01-4.8 2.401A4 4 0 1114 10a1 1 0 102 0c0-1.537-.586-3.07-1.757-4.243zM12 10a2 2 0 10-4 0 2 2 0 004 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <input\n                id=\"email\"\n                type=\"text\"\n                required\n                className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"you@example.com or username\"\n                value={email}\n                onChange={(e) => {\n                  setEmail(e.target.value);\n                  if (error) dispatch(clearError());\n                }}\n                disabled={loading}\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Password\n            </label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <input\n                id=\"password\"\n                type=\"password\"\n                required\n                className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                  if (error) dispatch(clearError());\n                }}\n                disabled={loading}\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <input\n                id=\"remember-me\"\n                name=\"remember-me\"\n                type=\"checkbox\"\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:bg-gray-900\"\n              />\n              <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-700 dark:text-gray-300\">\n                Remember me\n              </label>\n            </div>\n\n            <a href=\"#\" className=\"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500\">\n              Forgot password?\n            </a>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\n          >\n            {loading ? (\n              <>\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Signing in...\n              </>\n            ) : (\n              \"Sign In\"\n            )}\n          </button>\n        </form>\n\n        {/* Links */}\n        <div className=\"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700\">\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Don&apos;t have an account?{\" \"}\n              <Link href=\"/register\" className=\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500\">\n                Register here\n              </Link>\n            </p>\n          </div>\n\n          <div className=\"mt-4 text-center\">\n            <Link \n              href=\"/admin/login\" \n              className=\"inline-flex items-center text-sm text-purple-600 dark:text-purple-400 hover:text-purple-500\"\n            >\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n              </svg>\n              Are you an Admin? Login here\n            </Link>\n          </div>\n\n          <div className=\"mt-6 text-center\">\n            <Link \n              href=\"/\" \n              className=\"inline-flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\"\n            >\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n              Back to homepage\n            </Link>\n          </div>\n        </div>\n\n        {/* Demo credentials note */}\n        <div className=\"mt-8 p-4 bg-gray-50 dark:bg-gray-900/30 rounded-lg border border-gray-200 dark:border-gray-700/30\">\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center\">\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Note:</span> Use your registered credentials. \n            If you don&apos;t have an account, please register first.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}